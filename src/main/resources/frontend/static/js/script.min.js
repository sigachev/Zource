var breakpoint={refreshValue:function(){this.value=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/\"/g,"")}};$(window).resize(function(){breakpoint.refreshValue()}).resize(),$(function(){$("[data-select]").each(function(){var e=$(this),t=$("#"+e.data("select")),a=e.parent().find(".dropdown-toggle"),i=e.find(".dropdown-item"),n=e.find('[data-value="'+t.val()+'"]');a.html(n.html()),i.click(function(){$(this).data("value")!=t.val()&&(a.html($(this).html()),t.val($(this).data("value")).trigger("change")),a.focus()}),e.parent().on("shown.bs.dropdown",function(){e.find('[data-value="'+t.val()+'"]').trigger("focus")})});var a=$(".middle-header"),i=$('<div id="wrapper"></div>');a.before(i);var n=i.offset().top,r="fixed-top",l=$(window).scrollTop();$(window).on("load scroll resize",function(){var e=a.outerHeight(),t=$(this).scrollTop();t<l?t<=n&&(a.hasClass(r)&&a.removeClass(r),i.height(0)):n+e+20<=t&&(a.addClass(r),i.height(e)),l=t}),$(".main-nav .nav-item.dropdown").hover(function(){$(this).addClass("show").find("> .dropdown-menu").addClass("show")},function(){$(this).removeClass("show").find("> .dropdown-menu").removeClass("show")}),toggleSearch=function(){$(".input-search-wrapper").toggleClass("invisible"),$("#input-search").typeahead("val","").focus()},$(".toggle-search").click(function(e){toggleSearch(),e.preventDefault(),e.stopPropagation()}),$("#input-search").keyup(function(e){27===e.keyCode&&toggleSearch()});var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:"https://raw.githubusercontent.com/mimity-example/json/master/cat1.json?token="+Math.random()}),t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:"https://raw.githubusercontent.com/mimity-example/json/master/cat2.json?token="+Math.random()});if($("#input-search").typeahead({highlight:!0},{name:"category-1",display:"name",source:e,templates:{header:'<h6 class="dropdown-header">Category 1</h6>'}},{name:"category-2",display:"name",source:t,templates:{header:'<h6 class="dropdown-header">Category 2</h6>'}}),$("#inputCountry").length){var o=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"https://raw.githubusercontent.com/mimity-example/json/master/countries.json?token="+Math.random()}});o.initialize(),$("#inputCountry").typeahead({highlight:!0},{displayKey:"name",source:o.ttAdapter()})}var s=function(){$("[data-cover]").each(function(){var e=$(this);switch(e.css("background-image","url("+decodeURIComponent(e.data("cover"))+")"),e.attr("data-height")&&e.css("height",e.data("height")),breakpoint.value){case"xs":e.attr("data-xs-height")&&e.css("height",e.data("xs-height"));break;case"sm":e.attr("data-sm-height")&&e.css("height",e.data("sm-height"));break;case"md":e.attr("data-md-height")&&e.css("height",e.data("md-height"));break;case"lg":e.attr("data-lg-height")&&e.css("height",e.data("lg-height"));break;case"xl":e.attr("data-xl-height")&&e.css("height",e.data("xl-height"))}})};if($(window).resize(function(){s()}),s(),$(".home-slider").length&&"undefined"!=typeof Swiper){var d=new Swiper(".home-slider",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:"#home-slider-prev",nextEl:"#home-slider-next"},autoplay:{delay:2500,disableOnInteraction:!1},on:{init:function(){setTimeout(function(){$(".home-slider").find(".swiper-slide-active .animate").each(function(){$(this).addClass($(this).data("animate")).addClass("visible")})},100)}}});d.on("slideChange",function(){d.slides.find(".animate").each(function(){$(this).removeClass($(this).data("animate")).removeClass("visible")}),$(d.slides[d.activeIndex]).find(".animate").each(function(){$(this).addClass($(this).data("animate")).addClass("visible")})})}if($("#brand-slider").length&&"undefined"!=typeof Swiper)new Swiper("#brand-slider",{navigation:{prevEl:"#brand-slider-prev",nextEl:"#brand-slider-next"},slidesPerView:5,spaceBetween:15,slidesPerColumn:2,breakpoints:{767:{slidesPerView:2},991:{slidesPerView:3},1199:{slidesPerView:4}}});if($("#newIn-slider").length&&"undefined"!=typeof Swiper)new Swiper("#newIn-slider",{navigation:{prevEl:"#newInPrev",nextEl:"#newInNext"},slidesPerView:6,spaceBetween:30,breakpoints:{575:{slidesPerView:2,spaceBetween:8},767:{slidesPerView:3,spaceBetween:8},991:{slidesPerView:4,spaceBetween:8},1199:{slidesPerView:5}}});if($("#quickview-slider").length&&null!=typeof Swiper){var c=new Swiper("#quickview-slider",{pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:"#quickview-prev",nextEl:"#quickview-next"},lazy:!0});$("#quickviewModal").on("shown.bs.modal",function(e){c.update()})}if($("#price-range-slider").length){var h=document.getElementById("price-range-slider");noUiSlider.create(h,{start:[20,80],connect:!0,range:{min:0,max:100}}),h.noUiSlider.on("update",function(e,t){var a=e[t];t?$("#max-price").val(Math.round(a)).attr("value",Math.round(a)):$("#min-price").val(Math.round(a)).attr("value",Math.round(a))}),$("#max-price").on("change",function(){h.noUiSlider.set([null,this.value])}),$("#min-price").on("change",function(){h.noUiSlider.set([this.value,null])})}if($("#rating-range").length){var u=document.getElementById("rating-range");noUiSlider.create(u,{start:[$("#min-range").val(),$("#max-range").val()],connect:!0,orientation:"vertical",snap:!0,direction:"rtl",range:{min:1,"25%":2,"50%":3,"75%":4,max:5},pips:{mode:"values",values:[1,2,3,4,5]}}),u.noUiSlider.on("update",function(e,t){var a=$("#rating-range");a.find('.noUi-value[style="bottom: 100%;"]').html('<div class="rating"><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i></div>'),a.find('.noUi-value[style="bottom: 75%;"]').html('<div class="rating"><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i></div>'),a.find('.noUi-value[style="bottom: 50%;"]').html('<div class="rating"><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i></div>'),a.find('.noUi-value[style="bottom: 25%;"]').html('<div class="rating"><i class="material-icons md-1 align-text-top">star_border</i><i class="material-icons md-1 align-text-top">star_border</i></div>'),a.find('.noUi-value[style="bottom: 0%;"]').html('<div class="rating"><i class="material-icons md-1 align-text-top">star_border</i></div>');var i=e[t];t?$("#max-range").val(Math.round(i)).attr("value",Math.round(i)):$("#min-range").val(Math.round(i)).attr("value",Math.round(i));for(var n=$("#min-range").val(),r=""==(r=$("#max-range").val())?n:r,l=n;l<parseInt(r)+1;l++){switch(l){case 5:case"5":var o="100%";break;case 4:case"4":o="75%";break;case 3:case"3":o="50%";break;case 2:case"2":o="25%";break;case 1:case"1":o="0%"}a.find('.noUi-value[style="bottom: '+o+';"]').find(".material-icons").text("star")}}),$("#max-range").on("change",function(){u.noUiSlider.set([null,this.value])}),$("#min-range").on("change",function(){u.noUiSlider.set([this.value,null])})}var p=new Date;if(p.setHours(p.getHours()+6),$("#flash-sale-countdown").length&&$("#flash-sale-countdown").countdown(p,function(e){$(this).text(e.strftime("%H:%M:%S"))}),$(".input-group-qty").each(function(){var e=$(this),t=e.find('input[type="text"]'),a=e.find(".btn-down"),i=e.find(".btn-up"),n=t.data("min"),r=t.data("max");n=null==n||""==n||n<0?0:n,r=null==r||""==r||r<0?1e3:r;t.change(function(){!$.isNumeric($(this).val())||$(this).val()<n?$(this).val(n):$(this).val()>r&&$(this).val(r)}),i.click(function(){t.val(parseInt(t.val())+1).trigger("change")}),a.click(function(){t.val(parseInt(t.val())-1).trigger("change")})}),$(".input-group-qty input").on("focus",function(){$(this).one("mouseup",function(){return $(this).select(),!1}).select()}),$("#detail-slider").length&&null!=typeof Swiper){var g=new Swiper("#detail-slider",{on:{init:function(){setTimeout(function(){$(".detail-gallery .swiper-slide:first-child .img-thumbnail").addClass("active")},100)}}});g.on("slideChange",function(){m.slideTo(g.activeIndex),$(".detail-gallery .swiper-slide .img-thumbnail").removeClass("active"),$(".detail-gallery .swiper-slide").eq(g.activeIndex).find(".img-thumbnail").addClass("active")})}if($("#detail-gallery").length&&null!=typeof Swiper){var m=new Swiper("#detail-gallery",{slidesPerView:4,spaceBetween:5,navigation:{prevEl:"#detail-gallery-prev",nextEl:"#detail-gallery-next"}});$(".detail-gallery .swiper-slide").length<=4&&$("#detail-gallery-prev, #detail-gallery-next").remove()}$(".detail-gallery .swiper-slide a").click(function(e){g.slideTo($(".detail-gallery .swiper-slide a").index(this)),e.preventDefault()});var v=function(e){e=void 0!==e?e:0;var a,t=document.querySelectorAll(".pswp")[0],i=(a=[],$("#detail-slider img").each(function(e,t){item={src:t.getAttribute("src"),w:parseInt(t.getAttribute("data-width"),10),h:parseInt(t.getAttribute("data-height"),10)},a.push(item)}),a);new PhotoSwipe(t,PhotoSwipeUI_Default,i,{index:e}).init()};$(".btn-zoom").click(function(e){v(g.activeIndex),e.preventDefault()}),$(window).scroll(function(){200<$(this).scrollTop()?$(".back-top").fadeIn():$(".back-top").fadeOut()}),$("#back-top").click(function(e){$("body, html").animate({scrollTop:0},500),e.preventDefault()}),$(".rating-review").length&&$(".rating-review").raty({half:!0,scoreName:"rating-review",path:"img/raty"}),$('[data-toggle="tooltip"]').tooltip(),$(".show-quickview").click(function(e){$("#quickviewModal").modal("show")})});